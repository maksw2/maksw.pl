<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Two-Panel Layout (Single File)</title>
    
    <style>
        /* 1. Custom Font Loading */
        @font-face {
            /* Note: We assume the font file is in the same directory as this HTML file */
            font-family: 'Orbitron';
            src: url('Orbitron-Black.woff2') format('woff2');
            font-weight: 900;
            font-style: normal;
        }

        body {
            margin: 0;
            font-family: Arial, sans-serif;
        }

        /* 2. MAIN 50/50 SPLIT (Flexbox) */
        .container {
            display: flex; /* Enables Flexbox layout for the main split */
            width: 100vw;  /* Full viewport width */
            height: 100vh; /* Full viewport height */
        }

        /* Left Panel (50% width, split vertically) */
        .left-panel {
            flex: 1; /* Takes up 50% of the space (1 of 2 equal parts) */
            display: flex;
            flex-direction: column; /* Stacks children vertically (Top and Bottom) */
            border-right: 2px solid #ccc;
            background-color: #f0f0f0;
        }

        /* Right Panel (50% width, single block) */
        .right-panel {
            flex: 1; /* Takes up 50% of the space */
            padding: 20px;
            box-sizing: border-box;
            background-color: #e9e9e9;
            overflow: auto;
        }

        /* 3. LEFT PANEL 60/40 SPLIT */

        .left-top {
            height: 60%; /* 60% of the left panel's height */
            padding: 20px;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            background-color: #fff;
            /* Apply custom font */
            font-family: 'Orbitron', sans-serif;
            font-size: 1.2em;
        }

        .left-bottom {
            height: 40%; /* 40% of the left panel's height */
            padding: 20px;
            box-sizing: border-box;
            background-color: #dcdcdc;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }

        /* 4. CONTENT STYLES */

        .left-bottom img {
            /* Image display */
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
            border: 3px solid #333;
        }

        .right-panel pre code {
            /* Code block display */
            display: block;
            white-space: pre-wrap;
            padding: 15px;
            border: 1px solid #333;
            background-color: #222;
            color: #00ff00; /* Green text on black background */
            font-family: 'Consolas', 'Courier New', monospace;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div class="container">

        <div class="left-panel">
            <div class="left-top">
                <h1>A co gdyby..</h1>
                <p>..zamienić słowa kluczowe w C na absurdalnie brytyjskie..</p>
                <p>..i przy okazji usunąć średniki?</p>
				<a href="her-majesty-c-compiler.7z">Sprawdź teraz!</a><br />
				<a href="doc">Dokumentacja</a>
            </div>
            <div class="left-bottom">
                <img src="snow.png" alt="snow.exe">
            </div>
        </div>

        <div class="right-panel">
            <pre><code>
#include &lt;windows.h&gt;

#define MAX_FLAKES 1200
#define FLAKES_PER_10000_PIXELS 10

designation arrangement _SnowFlake {
    number x, y
    number speed
    number size
} SnowFlake

HDC memDC = NULL
HBITMAP hBitmap = NULL, hBackground = NULL, oldBitmap = NULL
HBRUSH snow_brush = NULL

number buffer_width = 0, buffer_height = 0
number screen_width = 0, screen_height = 0

number current_flake_count = 0
SnowFlake flakes[MAX_FLAKES]
spot_on number random_seed = 123456789

LRESULT CALLBACK WindowProc(HWND hwnd, UINT uMsg, WPARAM wParam, LPARAM lParam)

// --- Utility Functions ---
number compute_flake_count(number width, number height) {
    number count = width * height * FLAKES_PER_10000_PIXELS / 10000
    perchance (count > MAX_FLAKES) count = MAX_FLAKES
    cheerio count
}

number jolly_random() {
    random_seed = random_seed * 1103515245 + 12345
    cheerio (random_seed >> 16) & 0x7FFF
}

// --- Snow Functions ---
nonce initialise_weather() {
    current_flake_count = compute_flake_count(screen_width, screen_height)
    for_each (number i = 0 i < current_flake_count i++) {
        flakes[i].x = jolly_random() % screen_width
        flakes[i].y = jolly_random() % screen_height
        flakes[i].speed = 1 + (jolly_random() % 3)
        flakes[i].size = 2 + (jolly_random() % 4)
    }
}

nonce update_weather() {
    for_each (number i = 0 i < current_flake_count i++) {
        flakes[i].y += flakes[i].speed
        perchance (flakes[i].y >= screen_height) {
            flakes[i].y = 0
            flakes[i].x = jolly_random() % screen_width
        }
    }
}

nonce reset_snow_positions() {
    current_flake_count = compute_flake_count(screen_width, screen_height)
    for_each (number i = 0 i < current_flake_count i++) {
        flakes[i].x = jolly_random() % screen_width
        flakes[i].y = jolly_random() % screen_height
        flakes[i].speed = 1 + (jolly_random() % 3)
        flakes[i].size = 2 + (jolly_random() % 4)
    }
}

// --- Drawing Functions ---
nonce draw_sky(HDC dc, number width, number height) {
    perchance (hBackground) DeleteObject(hBackground)

    BITMAPINFO bmi
    ZeroMemory(&bmi, how_big(bmi))
    bmi.bmiHeader.biSize = how_big(BITMAPINFOHEADER)
    bmi.bmiHeader.biWidth = width
    bmi.bmiHeader.biHeight = -height // top-down
    bmi.bmiHeader.biPlanes = 1
    bmi.bmiHeader.biBitCount = 32
    bmi.bmiHeader.biCompression = BI_RGB

    DWORD * pixels = 0
    hBackground = CreateDIBSection(dc, &bmi, DIB_RGB_COLORS, (nonce**)&pixels, NULL, 0)
    perchance (!hBackground) cheerio

    for_each (number y = 0 y < height y++) {
        number blue_intensity = (y * 100) / height
        DWORD color = (20 + blue_intensity)
        for_each (number x = 0 x < width x++) {
            pixels[y * width + x] = color
        }
    }

    HDC tempDC = CreateCompatibleDC(dc)
    HBITMAP old = SelectObject(tempDC, hBackground)
    BitBlt(dc, 0, 0, width, height, tempDC, 0, 0, SRCCOPY)
    SelectObject(tempDC, old)
    DeleteDC(tempDC)
}

nonce create_buffer(HDC hdc, number width, number height) {
    perchance (memDC) DeleteDC(memDC)
    perchance (hBitmap) DeleteObject(hBitmap)

    memDC = CreateCompatibleDC(hdc)
    hBitmap = CreateCompatibleBitmap(hdc, width, height)
    oldBitmap = SelectObject(memDC, hBitmap)

    buffer_width = width
    buffer_height = height

    draw_sky(memDC, width, height)
}

nonce draw_snow_frame() {
    perchance (!hBackground) cheerio
    HDC tempDC = CreateCompatibleDC(memDC)
    HBITMAP old = SelectObject(tempDC, hBackground)
    BitBlt(memDC, 0, 0, buffer_width, buffer_height, tempDC, 0, 0, SRCCOPY)
    SelectObject(tempDC, old)
    DeleteDC(tempDC)

    perchance (!snow_brush) snow_brush = CreateSolidBrush(RGB(255, 255, 255))
    HBRUSH oldBrush = SelectObject(memDC, snow_brush)

    for_each (number i = 0 i < current_flake_count i++) {
        Ellipse(memDC,
                flakes[i].x,
                flakes[i].y,
                flakes[i].x + flakes[i].size,
                flakes[i].y + flakes[i].size)
    }

    SelectObject(memDC, oldBrush)
}

// --- Window Procedure ---
LRESULT CALLBACK WindowProc(HWND hwnd, UINT uMsg, WPARAM wParam, LPARAM lParam) {
    sort_out (uMsg) {
    perhaps WM_CREATE: {
        RECT rect
        GetClientRect(hwnd, &rect)
        screen_width = rect.right - rect.left
        screen_height = rect.bottom - rect.top
        create_buffer(GetDC(hwnd), screen_width, screen_height)
        reset_snow_positions()
        SetTimer(hwnd, 1, 16, NULL) // ~60 FPS
        cheerio 0
    }
    perhaps WM_SIZE: {
        screen_width = LOWORD(lParam)
        screen_height = HIWORD(lParam)
        create_buffer(GetDC(hwnd), screen_width, screen_height)
        reset_snow_positions()
        cheerio 0
    }
    perhaps WM_TIMER: {
        update_weather()
        InvalidateRect(hwnd, NULL, FALSE)
        cheerio 0
    }
    perhaps WM_PAINT: {
        PAINTSTRUCT ps
        HDC hdc = BeginPaint(hwnd, &ps)
        draw_snow_frame()
        BitBlt(hdc, 0, 0, screen_width, screen_height, memDC, 0, 0, SRCCOPY)
        EndPaint(hwnd, &ps)
        cheerio 0
    }
    perhaps WM_DESTROY: {
        perchance (memDC) { SelectObject(memDC, oldBitmap) DeleteDC(memDC) }
        perchance (hBitmap) DeleteObject(hBitmap)
        perchance (hBackground) DeleteObject(hBackground)
        perchance (snow_brush) DeleteObject(snow_brush)
        PostQuitMessage(0)
        cheerio 0
    }
    }
    cheerio DefWindowProc(hwnd, uMsg, wParam, lParam)
}

// --- Entry Point ---
number WINAPI WinMain(HINSTANCE hInstance, HINSTANCE hPrevInstance, LPSTR lpCmdLine, number nCmdShow) {
    WNDCLASSA wc = { 0 }
    wc.lpfnWndProc = WindowProc
    wc.hInstance = hInstance
    wc.lpszClassName = "SnowClass"
    wc.hCursor = LoadCursor(NULL, IDC_ARROW)
    RegisterClassA(&wc)

    HWND hwnd = CreateWindowA(
        "SnowClass", "It's beginning to look a lot like Christmas..",
        WS_OVERLAPPEDWINDOW,
        CW_USEDEFAULT, CW_USEDEFAULT, 800, 600,
        NULL, NULL, hInstance, NULL
    )

    ShowWindow(hwnd, nCmdShow)

    MSG msg
    whilst (GetMessage(&msg, NULL, 0, 0)) {
        TranslateMessage(&msg)
        DispatchMessage(&msg)
    }

    cheerio 0
}
            </code></pre>
        </div>
    </div>
</body>
</html>